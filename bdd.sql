--------------------------------------------------------
--  Fichier créé - mardi-avril-22-2025   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence SEQ_ID_RAPPORT
--------------------------------------------------------

   CREATE SEQUENCE  "GSBPROD"."SEQ_ID_RAPPORT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 14 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_ID_VISITEUR
--------------------------------------------------------

   CREATE SEQUENCE  "GSBPROD"."SEQ_ID_VISITEUR"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 11 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence SEQ_PRODUIT_ID
--------------------------------------------------------

   CREATE SEQUENCE  "GSBPROD"."SEQ_PRODUIT_ID"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table BILAN
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."BILAN" 
   (	"ID_BILAN" NUMBER(*,0), 
	"DESCRIPTION" VARCHAR2(255 BYTE), 
	"ID_RAPPORT" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DELEGUE
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."DELEGUE" 
   (	"ID_DELEGUE" NUMBER, 
	"ID_USER" NUMBER, 
	"ID_ROLE" NUMBER DEFAULT 3, 
	"ID_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table OBJECTIFS
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."OBJECTIFS" 
   (	"ID_OBJECTIF" NUMBER, 
	"DATE_OBJECTIF" DATE, 
	"PRIME" NUMBER(10,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table POSSEDE
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."POSSEDE" 
   (	"ID_POSSEDE" NUMBER, 
	"ID_USER" NUMBER, 
	"ID_OBJECTIF" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRATICIEN
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."PRATICIEN" 
   (	"ID_PRATICIEN" NUMBER, 
	"ID_USER" NUMBER, 
	"SPECIALITE" VARCHAR2(255 BYTE), 
	"ADRESSE" VARCHAR2(255 BYTE), 
	"NUMERO_TEL" VARCHAR2(50 BYTE), 
	"STATUT" VARCHAR2(50 BYTE), 
	"DIPLOME" VARCHAR2(255 BYTE), 
	"ID_ROLE" NUMBER DEFAULT 1, 
	"ID_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRODUIT
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."PRODUIT" 
   (	"PRODUIT_ID" NUMBER, 
	"CODE" VARCHAR2(50 BYTE), 
	"LIBELLE" VARCHAR2(255 BYTE), 
	"PRIX_UNITAIRE" NUMBER(10,2), 
	"DATE_CREATION" DATE DEFAULT SYSDATE, 
	"STATUT" VARCHAR2(20 BYTE) DEFAULT 'ACTIF'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table RAPPORT_DE_VISITE
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."RAPPORT_DE_VISITE" 
   (	"ID_RAPPORT" NUMBER, 
	"DATE_VISITE" DATE, 
	"MOTIF_VISITE" VARCHAR2(255 BYTE), 
	"CONTENU_VISITE" VARCHAR2(255 BYTE), 
	"NOM_MEDECIN" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table RAPPORT_PRODUIT
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."RAPPORT_PRODUIT" 
   (	"ID_RAPPORT" NUMBER, 
	"PRODUIT_ID" NUMBER, 
	"QUANTITE" NUMBER DEFAULT 1
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table REGION
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."REGION" 
   (	"ID_REGION" NUMBER, 
	"NOM_REGION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ROLE
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."ROLE" 
   (	"ID_ROLE" NUMBER, 
	"NOM_ROLE" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table UTILISATEUR
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."UTILISATEUR" 
   (	"ID_USER" NUMBER, 
	"NOM" VARCHAR2(255 BYTE), 
	"PRENOM" VARCHAR2(255 BYTE), 
	"EMAIL" VARCHAR2(255 BYTE), 
	"MOT_DE_PASSE" VARCHAR2(255 BYTE), 
	"ID_REGION" NUMBER, 
	"ID_ROLE" NUMBER DEFAULT 5
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table VISITEUR_MEDICAL
--------------------------------------------------------

  CREATE TABLE "GSBPROD"."VISITEUR_MEDICAL" 
   (	"ID_VISITEUR" NUMBER, 
	"MATRICULE" VARCHAR2(10 BYTE), 
	"DATE_EMBAUCHE" DATE, 
	"PRIMES" NUMBER, 
	"BUDGET" NUMBER, 
	"ID_USER" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into GSBPROD.BILAN
SET DEFINE OFF;
Insert into GSBPROD.BILAN (ID_BILAN,DESCRIPTION,ID_RAPPORT) values ('1','Présentation des produits complétée avec succès','1');
REM INSERTING into GSBPROD.DELEGUE
SET DEFINE OFF;
REM INSERTING into GSBPROD.OBJECTIFS
SET DEFINE OFF;
REM INSERTING into GSBPROD.POSSEDE
SET DEFINE OFF;
REM INSERTING into GSBPROD.PRATICIEN
SET DEFINE OFF;
REM INSERTING into GSBPROD.PRODUIT
SET DEFINE OFF;
Insert into GSBPROD.PRODUIT (PRODUIT_ID,CODE,LIBELLE,PRIX_UNITAIRE,DATE_CREATION,STATUT) values ('1','MED001','Doliprane','2,99',to_date('04/04/25','DD/MM/RR'),'ACTIF');
Insert into GSBPROD.PRODUIT (PRODUIT_ID,CODE,LIBELLE,PRIX_UNITAIRE,DATE_CREATION,STATUT) values ('2','MED002','Advil','4,99',to_date('04/04/25','DD/MM/RR'),'ACTIF');
Insert into GSBPROD.PRODUIT (PRODUIT_ID,CODE,LIBELLE,PRIX_UNITAIRE,DATE_CREATION,STATUT) values ('3','MED003','Amoxicilline','7,99',to_date('04/04/25','DD/MM/RR'),'ACTIF');
REM INSERTING into GSBPROD.RAPPORT_DE_VISITE
SET DEFINE OFF;
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('3',to_date('05/03/25','DD/MM/RR'),'test','Voiture en panne','Monique Larousse');
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('1',to_date('15/03/24','DD/MM/RR'),'Présentation nouveaux produits',null,null);
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('13',to_date('22/04/25','DD/MM/RR'),'Visite effectuée le 22/04/2025',null,'test');
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('11',to_date('01/04/25','DD/MM/RR'),'Proposition de médicamment','Deux dolipranes de nouvelle génération présenté !','Mouloude ');
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('8',to_date('28/03/25','DD/MM/RR'),'Visite effectuée le 28/03/2025',null,null);
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('9',to_date('28/03/25','DD/MM/RR'),'Une voiture verte','LaMaZoo',null);
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('10',to_date('01/04/25','DD/MM/RR'),'Visite effectuée le 01/04/2025','4','54');
Insert into GSBPROD.RAPPORT_DE_VISITE (ID_RAPPORT,DATE_VISITE,MOTIF_VISITE,CONTENU_VISITE,NOM_MEDECIN) values ('12',to_date('04/04/25','DD/MM/RR'),'Visite effectuée le 04/04/2025','testtest','testtest');
REM INSERTING into GSBPROD.RAPPORT_PRODUIT
SET DEFINE OFF;
Insert into GSBPROD.RAPPORT_PRODUIT (ID_RAPPORT,PRODUIT_ID,QUANTITE) values ('3','1','2');
Insert into GSBPROD.RAPPORT_PRODUIT (ID_RAPPORT,PRODUIT_ID,QUANTITE) values ('3','3','1');
Insert into GSBPROD.RAPPORT_PRODUIT (ID_RAPPORT,PRODUIT_ID,QUANTITE) values ('13','3','10');
Insert into GSBPROD.RAPPORT_PRODUIT (ID_RAPPORT,PRODUIT_ID,QUANTITE) values ('13','1','5');
Insert into GSBPROD.RAPPORT_PRODUIT (ID_RAPPORT,PRODUIT_ID,QUANTITE) values ('12','1','10');
REM INSERTING into GSBPROD.REGION
SET DEFINE OFF;
Insert into GSBPROD.REGION (ID_REGION,NOM_REGION) values ('3','Auvergne-Rhône-Alpes');
Insert into GSBPROD.REGION (ID_REGION,NOM_REGION) values ('1','Ile-de-France');
Insert into GSBPROD.REGION (ID_REGION,NOM_REGION) values ('4','Nouvelle-Aquitaine');
Insert into GSBPROD.REGION (ID_REGION,NOM_REGION) values ('2','Provence-Alpes-Côte');
REM INSERTING into GSBPROD.ROLE
SET DEFINE OFF;
Insert into GSBPROD.ROLE (ID_ROLE,NOM_ROLE) values ('2','Délegué');
Insert into GSBPROD.ROLE (ID_ROLE,NOM_ROLE) values ('3','Praticien');
Insert into GSBPROD.ROLE (ID_ROLE,NOM_ROLE) values ('1','Responsable secteur');
Insert into GSBPROD.ROLE (ID_ROLE,NOM_ROLE) values ('4','Visiteur médical');
REM INSERTING into GSBPROD.UTILISATEUR
SET DEFINE OFF;
Insert into GSBPROD.UTILISATEUR (ID_USER,NOM,PRENOM,EMAIL,MOT_DE_PASSE,ID_REGION,ID_ROLE) values ('1','Thomas','STINDEL','thomas@gmail.com','Iroise29','1','4');
Insert into GSBPROD.UTILISATEUR (ID_USER,NOM,PRENOM,EMAIL,MOT_DE_PASSE,ID_REGION,ID_ROLE) values ('2','Martin','Claire','jojo','Iroise29','2','3');
Insert into GSBPROD.UTILISATEUR (ID_USER,NOM,PRENOM,EMAIL,MOT_DE_PASSE,ID_REGION,ID_ROLE) values ('3','Durand','Paul','paul.durand@example.com','Iroise29','1','2');
Insert into GSBPROD.UTILISATEUR (ID_USER,NOM,PRENOM,EMAIL,MOT_DE_PASSE,ID_REGION,ID_ROLE) values ('4','Bernard','Sophie','sophie.bernard@example.com','Iroise29','3','1');
Insert into GSBPROD.UTILISATEUR (ID_USER,NOM,PRENOM,EMAIL,MOT_DE_PASSE,ID_REGION,ID_ROLE) values ('5','Lemoine','Alice','alice.lemoine@example.com','Iroise29','4','4');
REM INSERTING into GSBPROD.VISITEUR_MEDICAL
SET DEFINE OFF;
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('1','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('2','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('3','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('8','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('4','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('5','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('6','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('7','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('9','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
Insert into GSBPROD.VISITEUR_MEDICAL (ID_VISITEUR,MATRICULE,DATE_EMBAUCHE,PRIMES,BUDGET,ID_USER) values ('10','MTR001',to_date('15/06/19','DD/MM/RR'),'500','1000','1');
--------------------------------------------------------
--  DDL for Index PK_VISITEUR_MEDICAL
--------------------------------------------------------

  CREATE UNIQUE INDEX "GSBPROD"."PK_VISITEUR_MEDICAL" ON "GSBPROD"."VISITEUR_MEDICAL" ("ID_VISITEUR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger TRG_ID_RAPPORT_AI
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GSBPROD"."TRG_ID_RAPPORT_AI" 
BEFORE INSERT ON RAPPORT_DE_VISITE
FOR EACH ROW
BEGIN
    IF :NEW.ID_RAPPORT IS NULL THEN
        SELECT SEQ_ID_RAPPORT.NEXTVAL INTO :NEW.ID_RAPPORT FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "GSBPROD"."TRG_ID_RAPPORT_AI" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_ID_VISITEUR_AI
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GSBPROD"."TRG_ID_VISITEUR_AI" 
BEFORE INSERT ON VISITEUR_MEDICAL
FOR EACH ROW
BEGIN
    IF :NEW.ID_VISITEUR IS NULL THEN
        SELECT SEQ_ID_VISITEUR.NEXTVAL INTO :NEW.ID_VISITEUR FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "GSBPROD"."TRG_ID_VISITEUR_AI" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PRODUIT_ID
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "GSBPROD"."TRG_PRODUIT_ID" 
BEFORE INSERT ON PRODUIT
FOR EACH ROW
BEGIN
    -- Utilisation d'une sous-requête pour déterminer le prochain ID
    SELECT NVL(MAX(PRODUIT_ID), 0) + 1 INTO :NEW.PRODUIT_ID FROM PRODUIT;
    :NEW.DATE_CREATION := SYSDATE;
END;

/
ALTER TRIGGER "GSBPROD"."TRG_PRODUIT_ID" ENABLE;
--------------------------------------------------------
--  Constraints for Table PRATICIEN
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."PRATICIEN" MODIFY ("ID_USER" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."PRATICIEN" ADD PRIMARY KEY ("ID_PRATICIEN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table VISITEUR_MEDICAL
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."VISITEUR_MEDICAL" ADD CONSTRAINT "PK_VISITEUR_MEDICAL" PRIMARY KEY ("ID_VISITEUR")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table UTILISATEUR
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."UTILISATEUR" MODIFY ("NOM" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" MODIFY ("PRENOM" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" MODIFY ("EMAIL" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" MODIFY ("MOT_DE_PASSE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" ADD PRIMARY KEY ("ID_USER")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" ADD UNIQUE ("EMAIL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROLE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."ROLE" MODIFY ("NOM_ROLE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."ROLE" ADD PRIMARY KEY ("ID_ROLE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "GSBPROD"."ROLE" ADD UNIQUE ("NOM_ROLE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table POSSEDE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."POSSEDE" MODIFY ("ID_USER" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."POSSEDE" MODIFY ("ID_OBJECTIF" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."POSSEDE" ADD PRIMARY KEY ("ID_POSSEDE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table BILAN
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."BILAN" ADD PRIMARY KEY ("ID_BILAN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REGION
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."REGION" MODIFY ("NOM_REGION" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."REGION" ADD PRIMARY KEY ("ID_REGION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "GSBPROD"."REGION" ADD UNIQUE ("NOM_REGION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table RAPPORT_DE_VISITE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."RAPPORT_DE_VISITE" MODIFY ("DATE_VISITE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."RAPPORT_DE_VISITE" MODIFY ("MOTIF_VISITE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."RAPPORT_DE_VISITE" ADD PRIMARY KEY ("ID_RAPPORT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUIT
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."PRODUIT" ADD CONSTRAINT "CHK_STATUT" CHECK (STATUT IN ('ACTIF', 'INACTIF', 'EPUISE')) ENABLE;
 
  ALTER TABLE "GSBPROD"."PRODUIT" MODIFY ("CODE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."PRODUIT" MODIFY ("LIBELLE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."PRODUIT" MODIFY ("PRIX_UNITAIRE" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."PRODUIT" ADD PRIMARY KEY ("PRODUIT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
 
  ALTER TABLE "GSBPROD"."PRODUIT" ADD UNIQUE ("CODE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table DELEGUE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."DELEGUE" MODIFY ("ID_USER" NOT NULL ENABLE);
 
  ALTER TABLE "GSBPROD"."DELEGUE" ADD PRIMARY KEY ("ID_DELEGUE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table OBJECTIFS
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."OBJECTIFS" ADD PRIMARY KEY ("ID_OBJECTIF")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table RAPPORT_PRODUIT
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."RAPPORT_PRODUIT" ADD PRIMARY KEY ("ID_RAPPORT", "PRODUIT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DELEGUE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."DELEGUE" ADD FOREIGN KEY ("ID_USER")
	  REFERENCES "GSBPROD"."UTILISATEUR" ("ID_USER") ENABLE;
 
  ALTER TABLE "GSBPROD"."DELEGUE" ADD FOREIGN KEY ("ID_ROLE")
	  REFERENCES "GSBPROD"."ROLE" ("ID_ROLE") ENABLE;
 
  ALTER TABLE "GSBPROD"."DELEGUE" ADD FOREIGN KEY ("ID_REGION")
	  REFERENCES "GSBPROD"."REGION" ("ID_REGION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table POSSEDE
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."POSSEDE" ADD FOREIGN KEY ("ID_USER")
	  REFERENCES "GSBPROD"."UTILISATEUR" ("ID_USER") ENABLE;
 
  ALTER TABLE "GSBPROD"."POSSEDE" ADD FOREIGN KEY ("ID_OBJECTIF")
	  REFERENCES "GSBPROD"."OBJECTIFS" ("ID_OBJECTIF") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRATICIEN
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."PRATICIEN" ADD FOREIGN KEY ("ID_USER")
	  REFERENCES "GSBPROD"."UTILISATEUR" ("ID_USER") ENABLE;
 
  ALTER TABLE "GSBPROD"."PRATICIEN" ADD FOREIGN KEY ("ID_ROLE")
	  REFERENCES "GSBPROD"."ROLE" ("ID_ROLE") ENABLE;
 
  ALTER TABLE "GSBPROD"."PRATICIEN" ADD FOREIGN KEY ("ID_REGION")
	  REFERENCES "GSBPROD"."REGION" ("ID_REGION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table RAPPORT_PRODUIT
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."RAPPORT_PRODUIT" ADD CONSTRAINT "FK_RAPPORT_PRODUIT_PRODUIT" FOREIGN KEY ("PRODUIT_ID")
	  REFERENCES "GSBPROD"."PRODUIT" ("PRODUIT_ID") ON DELETE CASCADE ENABLE;
 
  ALTER TABLE "GSBPROD"."RAPPORT_PRODUIT" ADD CONSTRAINT "FK_RAPPORT_PRODUIT_RAPPORT" FOREIGN KEY ("ID_RAPPORT")
	  REFERENCES "GSBPROD"."RAPPORT_DE_VISITE" ("ID_RAPPORT") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table UTILISATEUR
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."UTILISATEUR" ADD FOREIGN KEY ("ID_REGION")
	  REFERENCES "GSBPROD"."REGION" ("ID_REGION") ENABLE;
 
  ALTER TABLE "GSBPROD"."UTILISATEUR" ADD FOREIGN KEY ("ID_ROLE")
	  REFERENCES "GSBPROD"."ROLE" ("ID_ROLE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table VISITEUR_MEDICAL
--------------------------------------------------------

  ALTER TABLE "GSBPROD"."VISITEUR_MEDICAL" ADD CONSTRAINT "FK_VISITEUR_UTILISATEUR" FOREIGN KEY ("ID_USER")
	  REFERENCES "GSBPROD"."UTILISATEUR" ("ID_USER") ENABLE;
